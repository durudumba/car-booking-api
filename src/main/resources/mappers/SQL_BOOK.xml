<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTO Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="com.raontec.carbookingapi.data.BookDAO">

    <insert id="insertCarBook" parameterType="BookAppFormVO">
        INSERT INTO TB_CAR_BOOK_SCHD
            (
             CAR_NUM,
             CAR_DRVR,
             CAR_PSGR,
             DEST,
             USE_PRPS,
             SBMT_NAME,
             STRT_DT,
             STRT_TMCD,
             END_DT,
             END_TMCD,
             RMRK,
             REG_DT
            )
        VALUES
            (
             #{carNumber},
             #{driver},
             #{passengers},
             #{destination},
             #{usePropose},
             #{submitter},
             #{startDate},
             #{startTimeCd},
             #{endDate},
             #{endTimeCd},
             #{rmrk},
             NOW()
            )
    </insert>

    <insert id="insertCarBookHistory" parameterType="BookAppFormVO">
        INSERT INTO TH_CAR_BOOK
        (
            CAR_NUM,
            REQ_TYPE,
            CAR_DRVR,
            CAR_PSGR,
            DEST,
            USE_PRPS,
            SBMT_NAME,
            STRT_DT,
            STRT_TMCD,
            END_DT,
            END_TMCD,
            RMRK,
            REG_DT
        )
        VALUES
            (
                #{carNumber},
                0,
                #{driver},
                #{passengers},
                #{destination},
                #{usePropose},
                #{submitter},
                #{startDate},
                #{startTimeCd},
                #{endDate},
                #{endTimeCd},
                #{rmrk},
                NOW()
            )
    </insert>
    
</mapper>